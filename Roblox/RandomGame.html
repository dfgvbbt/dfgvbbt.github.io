<!DOCTYPE html>
<head>
    <title>Random Roblox Game</title>
    <style>
        a:visited,a:link,a:hover,a:active{
            color:white
        }
        pre{
            font-size: 16px;
            color:#bdbebe;
            overflow: hidden;
            white-space: pre-wrap;
        }
        .VerifiedBadgeIcon {
            margin-left: 2px;
            margin-bottom: -2px;
            width: 16px;
            height: 16px;
        }
        #Thumbnail {
            border-radius: 8px;
        }
        .button {
            position: fixed;
            border: 0px solid blue;
            background-color: rgba(153,206,232,0); 
            color:#bdbebe;
            width: auto;
            height: 10%;
            bottom: -2.5%;
            left: auto;
            right: 0;
        }
        #likeRate {
            height: 1px;
            background-color: white;
            direction: rtl;
            margin-left: auto;
            width: 100%;
        }
    </style>
</head>
<body style="background-color: #232527;color:#fff">
    <script>
        //Last update 04/08/2023
        AllGames = [
            12327010271,6058150350,3260590327,13127800756,185655149,7991339063,9872472334,8712817601,6516141723,10449761463,155615604,11445923563,4924922222,6737970321,4996049426,2753915549,4282985734,9103898828,13447209899,3851622790,6678877691,13416514259,2788229376,142823291,8305160617,5171093784,6813414321,9216815133,13509535912,8908228901,8534845015,6299805723,8304191830,6938803436,9224601490,4520749081,13814171092,6284583030,192800,12641272458,13412190446,2901172949,920587237,1962086868,7041939546,8737602449,12355337193,6872265039,8146731988,12931609417,3214114884,4972091010,12986400307,7978512334,11708967881,1730877806,4111023553,1458767429,12397515839,11308951249,9798463281,12826178482,6403373529,8260276694,606849621,4889315193,13692314644,13682880624,10595058975,11109756592,6205205961,8846144215,2028593804,6132958612,815405518,1554960397,5939428933,11727501024,11430498851,8831256282,189707,2866967438,6050995353,13822889,2248408710,6961824067,537413528,914010731,4616652839,10253248401,
            13890902087,2768379856,4954096313,6243699076,11584535867,2693023319,9664474819,5705773637,3101667897,7772810845,3398014311,5041144419,1242235469,8073154099,7378050129,286090429,2206090519,1537690962,654732683,6802248248,11568403922,9961650006,6447798030,4480809144,8054462345,9298624201,10277607801,1758401491,8310127828,893973440,5534174456,3272915504,6552369796,5847495283,6888253864,4855457388,4110892437,3625110776,6097258548,5977280685,5890606049,12366490284,12871833978,12613640465,6949542776,12215278065,4344891683,8404684575,1001315107,5938672061,6720189326,990364410,990566015,6495194916,6165106805,5736409216,5611648039,5985232436,277751860,4490140733,2551991523,6847090259,12094311187,11697499450,5275822877,7239319209,12625784503,1946695497,5310443220,13820774692,5712833750,8328351891,7180042682,6104994594,4522347649,7549229959,6873104649,3723475719,13730658693,292439477,5670218884,6788434697,4832438542,13924946576
        ]
        async function corsFetch(url) {
            _ = await fetch('https://api.allorigins.win/get?url='+encodeURIComponent(url))
            _ = _.text()

            //console.log(_)
            return _
        }
        function checkIsSame() {
            var Listed = {}
            for (var i in AllGames) {
                if (Listed[AllGames[i]]) {
                    console.log(alert(AllGames[i]+' is same!'))
                }
                Listed[AllGames[i]] = i
            }
            alert('Check compeleted')
        }
    </script>
    <noscript><h2 style="color: orange;">You are disabled scripting on this site,it's means this site cannot loadingðŸ˜­</h2></noscript>
    <img title="Thumbnail of this randomed game" id="Thumbnail">
    <h1><a title="Wanna play it? let's go!" id="Name">Loading</a></h1>
    <span>By 
        <a title="This player/group created this Roblox game" id="Author">@Someone</a>
        <img class="VerifiedBadgeIcon" title="This group/player has been verified on Roblox" id="VerifiedBadgeIcon" src="data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28' fill='none'%3E%3Cg clip-path='url(%23clip0_8_46)'%3E%3Crect x='5.88818' width='22.89' height='22.89' transform='rotate(15 5.88818 0)' fill='%230066FF'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M20.543 8.7508L20.549 8.7568C21.15 9.3578 21.15 10.3318 20.549 10.9328L11.817 19.6648L7.45 15.2968C6.85 14.6958 6.85 13.7218 7.45 13.1218L7.457 13.1148C8.058 12.5138 9.031 12.5138 9.633 13.1148L11.817 15.2998L18.367 8.7508C18.968 8.1498 19.942 8.1498 20.543 8.7508Z' fill='white'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_8_46'%3E%3Crect width='28' height='28' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E">
    </span>
    <button id='button' class="button" hidden>this is a preview,visit it for more</button>
    <h3 id="voting" style="width: max-content;">
        <span id="upVote" title="Amnout people liked this game" style="color:chartreuse">0</span>
        <span id="voteRate" title="?%">/</span>
        <span id="downVote" title="Amnout people dislike this game" style="color: rgb(250, 99, 130);">0</span>
        <div style="width: 100%;background-color: #bdbebe;">
            <div title="%?" id="likeRate"></div>
        </div>
        
    </h3>
    <h2>Description</h2>
    <pre id="Description"></pre>
    <h2>Created</h2>
    <pre id="Created"></pre>
    <h2>Last Update</h2>
    <pre id="LastUpdate"></pre>
    <script >
        //Loader(last update 29/7/2023)
        (async function a() {
            gameId = AllGames[Math.floor(Math.random()*AllGames.length)]
            if (Number(document.location.hash.substring(1)) && confirm('do u want view this game as id '+document.location.hash+'?\n(placeId only)')) {
                //Custom gameId
                gameId = Number(document.location.hash.substring(1))
            }
            var fetching = await JSON.parse(await corsFetch('https://economy.roblox.com/v2/assets/'+gameId+'/details'))
            console.log(AllGames.length+' games!')
            if (fetching.contents) {
                details = JSON.parse(fetching.contents)
                console.log(details)
            } else {
                console.log(fetching)
                throw alert('Failed while fetching da random game,maybe it\'s broken!\nCheck console for more')
            }
            if (!details.errors&&details.AssetTypeId!==9) {
                //details.error only happens with custom gameId
                allTypeListed = ['unrealable >:(','Image','T-Shirt','Audio','Mesh','Lua','HTML','Text','Hat','Place(typeid 9)','Model','Shirt','Pants','Decal']
                alert('something went wrong,this asset id is not a place...\nit\'s '+(allTypeListed[details.AssetTypeId]?allTypeListed[details.AssetTypeId]:'*unlisted*')+'!\nTypeId:'+details.AssetTypeId)
                document.getElementById('Name').href = 'https://www.roblox.com/library/'+details.AssetId
                throw alert('Loading stopped...')
            } else if (details.errors) {
                alert('"'+details.errors[0].message+'"\n(error code:'+details.errors[0].code+')')
                throw alert('Loading stopped...\nview console for more')
            }

            universeId = JSON.parse(await JSON.parse(await corsFetch('https://apis.roblox.com/universes/v1/places/'+gameId+'/universe')).contents).universeId
            fetching = JSON.parse(await JSON.parse(await corsFetch('https://games.roblox.com/v1/games/votes?universeIds='+universeId)).contents)

            if (fetching.data) {
                voting = fetching.data[0]
            } else {
                console.log(fetching)
                if (fetching.errors[0].message == 'Too many requests') {
                    voting = 'error'
                    alert('fetching(voting) error "Too many request",seems you are doing it so fast...\nSlow down!')
                    document.getElementById('voting').innerText = 'Something went wrong with voting service'
                    document.getElementById('voting').style.color = 'orange'
                } else {
                    throw alert('Failed while fetching voting of the random game,maybe it\'s broken!\nCheck console for more')
                }
                
            }
            
            creatorIsPlayer = (details.Creator.CreatorType=='User')
            fontSize = parseFloat(window.getComputedStyle(document.getElementById('Name'), null).getPropertyValue('font-size'))
            
            function addCommas(x) {
                return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            if (voting !== 'error') {
                document.getElementById('upVote').innerText = addCommas(voting.upVotes)
                document.getElementById('downVote').innerText = addCommas(voting.downVotes)
                if (voting.upVotes!==0&&voting.downVotes!==0) {
                    _ = (voting.upVotes/(voting.downVotes+voting.upVotes))*100
                    document.getElementById('voteRate').title = _+'%'
                    document.getElementById('likeRate').title = document.getElementById('voteRate').title
                    document.getElementById('likeRate').style.backgroundColor = 'hsl('+_+',100%,50%)'
                    document.getElementById('likeRate').style.width = _+'%'
                }
            }
            document.getElementById('Name').innerText = details.Name
            document.getElementById('Name').href = 'https://www.roblox.com/games/'+details.AssetId
            document.getElementById('Name').outerHTML += (details.IsForSale==true)?'('+details.PriceInRobux+' robux)':''
            document.getElementById('Author').innerText = ((creatorIsPlayer==true)?'@':'')+details.Creator.Name
            document.getElementById('Author').href = (creatorIsPlayer==true)?'https://www.roblox.com/users/'+details.Creator.Id+'/profile/':'https://www.roblox.com/groups/'+details.Creator.CreatorTargetId
            document.getElementById('Description').innerHTML = details.Description?details.Description.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1">$1</a>'):'No description yet'
            document.getElementById('VerifiedBadgeIcon').hidden = !details.Creator.HasVerifiedBadge
            document.getElementById('VerifiedBadgeIcon').width =
                document.getElementById('VerifiedBadgeIcon').height = fontSize/2
            document.getElementById('Thumbnail').src = '/Rblx/ImgAsset?'+details.IconImageAssetId
            if (!localStorage.No) {
                document.getElementById('button').hidden = false
                document.getElementById('button').onclick = function(){
                    alert('roblox not gonna disclosure everything about this randomed game,if ur interested about this game u can view it on www.roblox.com\nI\'m not gonna show this again')
                    localStorage.No = 'y'
                    this.remove()
                }
            }
            _ = new Date(details.Created)
            _1 = document.getElementById('Created')
            _1.innerText = _.getMonth()+1+'/'+_.getDate()+'/'+_.getFullYear()
            _1.title = _1.innerText + ' ' + _.getHours()+':'+_.getMinutes()+'.'+_.getSeconds()
            _ = new Date(details.Updated)
            _1 = document.getElementById('LastUpdate')
            _1.innerText = _.getMonth()+1+'/'+_.getDate()+'/'+_.getFullYear()
            _1.title = _1.innerText + ' ' + _.getHours()+':'+_.getMinutes()+'.'+_.getSeconds()
        })()
    </script>
</body>
